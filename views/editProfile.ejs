<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8" />
    <title>Node Starter</title>
    <!-- load local stylesheet (css) -->
    <link rel="stylesheet" href="/styles.css" />
    <!-- loading jquery -->
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>
</head>
<body>
  <%- include("partials/banner.ejs") %>

<div class="row">
    <form class="editProfile"
          method="post"
          action="/profile/edit/<%= data.username %>">
      <div class="column">
      <p><label>Name*: <input name="name" value="<%= data.name %>" required></label></p>

      <p><label>Wellesley Username*: <%= data.username %></label></p>
      
      <p><label>Pronouns: <input name="pronouns" value="<%= data.pronouns %>"></label></p>
      
      <p><label>Class Year*: <input name="classyear" value="<%= data.classyear %>" required></label></p>
      
      <p class="majors"><label>Major*:
          <select name="major" required>
            <option><%= data.major[0] %></option>
            <option>choose major</option>
    
            <% majors.forEach( elt => { %>
                    <option value="<%= elt %>"><%= elt %></option>
            <% }) %>

          </select>
        </label></p>
        
        <p class="majors"><label>Add another major:
          <select name="major2">
            <% if (data.major[1] == null){ %>
                <option>choose major</option>
            <% } else{ %>
                <option><%= data.major[1] %></option>
                <option>choose major</option>
            <% } %>
    
            <% majors.forEach( elt => { %>
                    <option value="<%= elt %>"><%= elt %></option>
            <% }) %>

          </select>
        </label></p>
        
        <p class="minors"><label>Minor:
          <select name="minor">
            <% if (data.minor == ""){ %>
                <option>choose minor</option>
            <% } else{ %>
                <option><%= data.minor %></option>
                <option>choose minor</option>
            <% } %>
    
            <% minors.forEach( elt => { %>
                    <option value="<%= elt %>"><%= elt %></option>
            <% }) %>

          </select>
        </label></p>
        
        Region:
        <p class="countries"><label>
          <select name="country" required>
            <option><%= data.country %></option>
    
            <% countries.forEach( elt => { %>
                    <option value="<%= elt %>"><%= elt %></option>
            <% }) %>

          </select>
        </label></p>

        <p class="states"><label>
          <select name="state">
            <% if (data.state == ""){ %>
                <option>State (US)</option>
            <% } else{ %>
                <option><%= data.state %></option>
                <option>State (US)</option>
            <% } %>
    
            <% states.forEach( elt => { %>
                    <option value="<%= elt %>"><%= elt %></option>
            <% }) %>

          </select>
        </label></p>

        <p><label><input name="city" value="<%= data.city %>"></label></p>
        </div>
        <div class="column">
        Bio:
        <p><label>
            <textarea rows="3" cols="30" name="bio" class="box"><%= data.bio %></textarea>
        </label></p>
        
        Field:
        <p><label>
            <textarea rows="3" cols="30" name="field" class="box"><%= data.field %></textarea>
        </label></p>
        
        Interests:
        <p><label>
            <textarea rows="3" cols="30" name="interests" class="box"><%= data.interests.join(", ") %></textarea>
        </label></p>
        </div>
        <p><button type="submit">Submit</button></p>
    </form>
  </div>
</body>
</html>
