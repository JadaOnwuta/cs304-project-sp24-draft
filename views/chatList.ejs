<!DOCTYPE html>
<html lang="en">
<head>
   <meta charset="UTF-8" />
   <title>Chats</title>
  
   <!-- load local stylesheet (css) -->
   <link rel="stylesheet" href="/styles.css" />
   <!-- loading jquery -->
   <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>
</head>
<body>
   
   <%- include("partials/banner.ejs") %>
   <%- include("partials/navbar.ejs") %>
   <h1>Chats</h1>

   

   <!-- load local js -->
   <script src="/main.js"></script>
   <!-- load a dropdown form containing all incomplete values -->
   <h2 class="chatHeader"><%= currentUser %>'s chats</h2>
   <hr>
   <% if( (chats.length == 0)|| (chats == null) ) { %>
      <p>Looks like you haven't chatted with anyone yet. Don't be afraid to be the first to reach out!</p>
      
      <% } else { %>
         <ul>
            <% chats.forEach( (elt) => {%>
               <% elt.users.forEach( (u) => {%>
                  <% if( u.userID !== currentUser ) { %>
                     <li><a href="/chat/<%= u.userID %>"><%= u.name %></a></li>
                     <% } %>
                  <% }); %>
            
            <% }); %>
        </ul>
      <% } %>
   
   <!-- load local js -->
   <script src="/main.js"></script>




</body>
</html>


